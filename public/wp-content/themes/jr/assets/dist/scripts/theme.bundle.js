(function () {
	'use strict';

	var form = document.getElementById('mailchimp');
	var recaptchaSiteKey = '6LcqBqYUAAAAAKBrxKmJ0TZ1ZcxOydyzF_sbVz7t';

	function loadRecaptchaScript() {
	  var script = document.createElement('script');
	  var scripts = document.getElementsByTagName('script')[0];
	  script.src = "https://www.google.com/recaptcha/api.js?render=".concat(recaptchaSiteKey);
	  scripts.parentNode.insertBefore(script, scripts);
	}

	window.initRecaptcha = function initRecaptcha() {
	  window.grecaptcha.ready(function () {
	    window.grecaptcha.execute(recaptchaSiteKey, {
	      action: 'homepage'
	    }).then(function (token) {
	      console.log(token);
	    });
	  });
	};

	function appendMessage(jsonData, currentForm) {
	  var message = document.createElement('p');
	  message.innerHTML = jsonData.message;
	  currentForm.append(message);
	}

	function doSomeAjax(event) {
	  event.preventDefault();
	  var currentForm = event.currentTarget;
	  jQuery(function ($) {
	    $.ajax({
	      url: currentForm.getAttribute('action'),
	      type: 'POST',
	      data: $(currentForm).serialize(),
	      success: function success(data) {
	        var jsonData = JSON.parse(data);

	        if (jsonData.status === 'error') {
	          appendMessage(jsonData, currentForm);
	        } else {
	          appendMessage(jsonData, currentForm);
	        }
	      }
	    });
	  });
	}

	function initEvents() {
	  form.addEventListener('submit', doSomeAjax);
	}

	function init() {
	  initEvents();
	  loadRecaptchaScript();
	}

	var Subscribe = {
	  init: init
	};

	Subscribe.init();

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGhlbWUuYnVuZGxlLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2NyaXB0cy9jb21wb25lbnRzL1N1YnNjcmliZS5qcyIsIi4uLy4uL3NyYy9zY3JpcHRzL3RoZW1lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ21haWxjaGltcCcgKTtcbmNvbnN0IHJlY2FwdGNoYVNpdGVLZXkgPSAnNkxjcUJxWVVBQUFBQUtCcnhLbUowVFoxWmN4T3lkeXpGX3NiVno3dCc7XG5cbmZ1bmN0aW9uIGxvYWRSZWNhcHRjaGFTY3JpcHQoKSB7XG5cdGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdzY3JpcHQnICk7XG5cdGNvbnN0IHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggJ3NjcmlwdCcgKVswXTtcblx0c2NyaXB0LnNyYyA9IGBodHRwczovL3d3dy5nb29nbGUuY29tL3JlY2FwdGNoYS9hcGkuanM/cmVuZGVyPSR7cmVjYXB0Y2hhU2l0ZUtleX1gO1xuXHRzY3JpcHRzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBzY3JpcHQsIHNjcmlwdHMgKTtcbn1cblxud2luZG93LmluaXRSZWNhcHRjaGEgPSBmdW5jdGlvbiBpbml0UmVjYXB0Y2hhKCkge1xuXHR3aW5kb3cuZ3JlY2FwdGNoYS5yZWFkeSggKCkgPT4ge1xuXHRcdHdpbmRvdy5ncmVjYXB0Y2hhLmV4ZWN1dGUoIHJlY2FwdGNoYVNpdGVLZXksIHsgYWN0aW9uOiAnaG9tZXBhZ2UnIH0gKS50aGVuKCAoIHRva2VuICkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coIHRva2VuICk7XG5cdFx0fSApO1xuXHR9ICk7XG59O1xuXG5mdW5jdGlvbiBhcHBlbmRNZXNzYWdlKCBqc29uRGF0YSwgY3VycmVudEZvcm0gKSB7XG5cdGNvbnN0IG1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAncCcgKTtcblx0bWVzc2FnZS5pbm5lckhUTUwgPSBqc29uRGF0YS5tZXNzYWdlO1xuXHRjdXJyZW50Rm9ybS5hcHBlbmQoIG1lc3NhZ2UgKTtcbn1cblxuZnVuY3Rpb24gZG9Tb21lQWpheCggZXZlbnQgKSB7XG5cdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdGNvbnN0IGN1cnJlbnRGb3JtID0gZXZlbnQuY3VycmVudFRhcmdldDtcblx0alF1ZXJ5KCAoICQgKSA9PiB7XG5cdFx0JC5hamF4KCB7XG5cdFx0XHR1cmw6IGN1cnJlbnRGb3JtLmdldEF0dHJpYnV0ZSggJ2FjdGlvbicgKSxcblx0XHRcdHR5cGU6ICdQT1NUJyxcblx0XHRcdGRhdGE6ICQoIGN1cnJlbnRGb3JtICkuc2VyaWFsaXplKCksXG5cdFx0XHRzdWNjZXNzKCBkYXRhICkge1xuXHRcdFx0XHRjb25zdCBqc29uRGF0YSA9IEpTT04ucGFyc2UoIGRhdGEgKTtcblx0XHRcdFx0aWYgKCBqc29uRGF0YS5zdGF0dXMgPT09ICdlcnJvcicgKSB7XG5cdFx0XHRcdFx0YXBwZW5kTWVzc2FnZSgganNvbkRhdGEsIGN1cnJlbnRGb3JtICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0YXBwZW5kTWVzc2FnZSgganNvbkRhdGEsIGN1cnJlbnRGb3JtICk7XG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0fSApO1xuXHR9ICk7XG59XG5cbmZ1bmN0aW9uIGluaXRFdmVudHMoKSB7XG5cdGZvcm0uYWRkRXZlbnRMaXN0ZW5lciggJ3N1Ym1pdCcsIGRvU29tZUFqYXggKTtcbn1cblxuZnVuY3Rpb24gaW5pdCgpIHtcblx0aW5pdEV2ZW50cygpO1xuXHRsb2FkUmVjYXB0Y2hhU2NyaXB0KCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcblx0aW5pdCxcbn07XG4iLCJpbXBvcnQgU3Vic2NyaWJlIGZyb20gJy4vY29tcG9uZW50cy9TdWJzY3JpYmUnO1xuXG5TdWJzY3JpYmUuaW5pdCgpO1xuIl0sIm5hbWVzIjpbImZvcm0iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicmVjYXB0Y2hhU2l0ZUtleSIsImxvYWRSZWNhcHRjaGFTY3JpcHQiLCJzY3JpcHQiLCJjcmVhdGVFbGVtZW50Iiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic3JjIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsIndpbmRvdyIsImluaXRSZWNhcHRjaGEiLCJncmVjYXB0Y2hhIiwicmVhZHkiLCJleGVjdXRlIiwiYWN0aW9uIiwidGhlbiIsInRva2VuIiwiY29uc29sZSIsImxvZyIsImFwcGVuZE1lc3NhZ2UiLCJqc29uRGF0YSIsImN1cnJlbnRGb3JtIiwibWVzc2FnZSIsImlubmVySFRNTCIsImFwcGVuZCIsImRvU29tZUFqYXgiLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiY3VycmVudFRhcmdldCIsImpRdWVyeSIsIiQiLCJhamF4IiwidXJsIiwiZ2V0QXR0cmlidXRlIiwidHlwZSIsImRhdGEiLCJzZXJpYWxpemUiLCJzdWNjZXNzIiwiSlNPTiIsInBhcnNlIiwic3RhdHVzIiwiaW5pdEV2ZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJpbml0IiwiU3Vic2NyaWJlIl0sIm1hcHBpbmdzIjoiOzs7Q0FBQSxJQUFNQSxJQUFJLEdBQUdDLFFBQVEsQ0FBQ0MsY0FBVCxDQUF5QixXQUF6QixDQUFiO0NBQ0EsSUFBTUMsZ0JBQWdCLEdBQUcsMENBQXpCOztDQUVBLFNBQVNDLG1CQUFULEdBQStCO0NBQzlCLE1BQU1DLE1BQU0sR0FBR0osUUFBUSxDQUFDSyxhQUFULENBQXdCLFFBQXhCLENBQWY7Q0FDQSxNQUFNQyxPQUFPLEdBQUdOLFFBQVEsQ0FBQ08sb0JBQVQsQ0FBK0IsUUFBL0IsRUFBMEMsQ0FBMUMsQ0FBaEI7Q0FDQUgsRUFBQUEsTUFBTSxDQUFDSSxHQUFQLDREQUErRE4sZ0JBQS9EO0NBQ0FJLEVBQUFBLE9BQU8sQ0FBQ0csVUFBUixDQUFtQkMsWUFBbkIsQ0FBaUNOLE1BQWpDLEVBQXlDRSxPQUF6QztDQUNBOztDQUVESyxNQUFNLENBQUNDLGFBQVAsR0FBdUIsU0FBU0EsYUFBVCxHQUF5QjtDQUMvQ0QsRUFBQUEsTUFBTSxDQUFDRSxVQUFQLENBQWtCQyxLQUFsQixDQUF5QixZQUFNO0NBQzlCSCxJQUFBQSxNQUFNLENBQUNFLFVBQVAsQ0FBa0JFLE9BQWxCLENBQTJCYixnQkFBM0IsRUFBNkM7Q0FBRWMsTUFBQUEsTUFBTSxFQUFFO0NBQVYsS0FBN0MsRUFBc0VDLElBQXRFLENBQTRFLFVBQUVDLEtBQUYsRUFBYTtDQUN4RkMsTUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQWFGLEtBQWI7Q0FDQSxLQUZEO0NBR0EsR0FKRDtDQUtBLENBTkQ7O0NBUUEsU0FBU0csYUFBVCxDQUF3QkMsUUFBeEIsRUFBa0NDLFdBQWxDLEVBQWdEO0NBQy9DLE1BQU1DLE9BQU8sR0FBR3hCLFFBQVEsQ0FBQ0ssYUFBVCxDQUF3QixHQUF4QixDQUFoQjtDQUNBbUIsRUFBQUEsT0FBTyxDQUFDQyxTQUFSLEdBQW9CSCxRQUFRLENBQUNFLE9BQTdCO0NBQ0FELEVBQUFBLFdBQVcsQ0FBQ0csTUFBWixDQUFvQkYsT0FBcEI7Q0FDQTs7Q0FFRCxTQUFTRyxVQUFULENBQXFCQyxLQUFyQixFQUE2QjtDQUM1QkEsRUFBQUEsS0FBSyxDQUFDQyxjQUFOO0NBQ0EsTUFBTU4sV0FBVyxHQUFHSyxLQUFLLENBQUNFLGFBQTFCO0NBQ0FDLEVBQUFBLE1BQU0sQ0FBRSxVQUFFQyxDQUFGLEVBQVM7Q0FDaEJBLElBQUFBLENBQUMsQ0FBQ0MsSUFBRixDQUFRO0NBQ1BDLE1BQUFBLEdBQUcsRUFBRVgsV0FBVyxDQUFDWSxZQUFaLENBQTBCLFFBQTFCLENBREU7Q0FFUEMsTUFBQUEsSUFBSSxFQUFFLE1BRkM7Q0FHUEMsTUFBQUEsSUFBSSxFQUFFTCxDQUFDLENBQUVULFdBQUYsQ0FBRCxDQUFpQmUsU0FBakIsRUFIQztDQUlQQyxNQUFBQSxPQUpPLG1CQUlFRixJQUpGLEVBSVM7Q0FDZixZQUFNZixRQUFRLEdBQUdrQixJQUFJLENBQUNDLEtBQUwsQ0FBWUosSUFBWixDQUFqQjs7Q0FDQSxZQUFLZixRQUFRLENBQUNvQixNQUFULEtBQW9CLE9BQXpCLEVBQW1DO0NBQ2xDckIsVUFBQUEsYUFBYSxDQUFFQyxRQUFGLEVBQVlDLFdBQVosQ0FBYjtDQUNBLFNBRkQsTUFFTztDQUNORixVQUFBQSxhQUFhLENBQUVDLFFBQUYsRUFBWUMsV0FBWixDQUFiO0NBQ0E7Q0FDRDtDQVhNLEtBQVI7Q0FhQSxHQWRLLENBQU47Q0FlQTs7Q0FFRCxTQUFTb0IsVUFBVCxHQUFzQjtDQUNyQjVDLEVBQUFBLElBQUksQ0FBQzZDLGdCQUFMLENBQXVCLFFBQXZCLEVBQWlDakIsVUFBakM7Q0FDQTs7Q0FFRCxTQUFTa0IsSUFBVCxHQUFnQjtDQUNmRixFQUFBQSxVQUFVO0NBQ1Z4QyxFQUFBQSxtQkFBbUI7Q0FDbkI7O0FBRUQsaUJBQWU7Q0FDZDBDLEVBQUFBLElBQUksRUFBSkE7Q0FEYyxDQUFmOztDQ25EQUMsU0FBUyxDQUFDRCxJQUFWOzs7OyJ9
